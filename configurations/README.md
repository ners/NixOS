## Configurations

This directory contains definitions for NixOS systems that can be built from this flake.

Each configuration is a directory that contains, at minimum, a `default.nix` file, and a system definition file.
The name of the directory is the name of the configuration, as well as its default hostname.

### Adding a new configuration

To add a new configuration, create a new directory in this one, named after the configuration you wish to add.
Create the system definition file, containing the name of the system the configuration targets; e.g. "x86_64-linux".

Also add a `default.nix` file that describes the configuration.

If the configuration describes a computer, then also add the `hardware-configuration.nix`, as generated by `nixos-generate-config`.

Finally, the new configuration can be built from the root of the flake:
```
# Build or switch
nixos-rebuild build --flake .#<name> --impure
nixos-rebuild switch --flake .#<name> --impure

# Install from live media
nixos-install --flake .#<name> --impure
```

If creating a new configuration in the live environment, the installation wizard simplifies adding new configurations.
Simply run `wizard` and follow the steps.
